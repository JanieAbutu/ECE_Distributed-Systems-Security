#1. create directory for project
#2. on vs code, navigate to the directory = cd directoryname
#3. type npm init to create package.json yes
#4. npm install express@4/Express
#5. Create index.js file (the 
#6. node index.js (node index.js creates/starts a web server that waits for requests and responds using the rules you defined.)
	It creates a server (express())
	It defines routes (app.get(...))
	It listens on a port (app.listen(...))
ðŸ‘‰ Any file that starts listening on a port is the server.

=Simple analogy
- node index.js = turning on a phone
- app.get(...) = saving contacts
- app.listen(...) = waiting for calls
- Browser request = someone calling
- res.send() = you answering
# Modules: creation, exports, and imports
- Module => js file with function, object, variable to be shared
- Export syntax => module.exports = filename;
- Import syntax => require('./filename')

If your file uses require â†’ everything works (require = speaking your native language)
If your file uses import â†’ you need extra setup (import = speaking a foreign language) => Babel = a translator in the middle

==========================================
Creating REST APIs
===========
REST APIs exposing CRUD(Create, Remove, Update, Display) operations on a JSON file

Step 1: Presentation of our data source
No configured any routes = cannot GET/
# Launch server = develop Rest APIs by
=>1. Resources = (json files, Mongodb or mysql databases, etc.)
=>2. Routes = (paths for retrieving, adding, modifying, and deleting data available in our resources)

Example:::::
=> File(data source placed in root directory) 'equipes.json' containing a set of soccer teams. Each team has the fields id, name, country
=> Routes:
	âœ“ GET /teams(display)
	âœ“ GET /teams/:id (display)
	âœ“ POST /teams(create)
	âœ“ PUT /teams/:id (update)
	âœ“ DELETE /teams/:id (remove)
=> Testing the REST API with Postman 
	>> Install postman tool)
	>> Create a collection to hold all requests for project
	>> Add the requests on postman (http verb + url + ....)
	>> On the server file, define the route for each request
	>> Create the Middleware in the server (functions 	executed when a request is made to the server. They have 	access to the request and response parameters and can 	therefore perform many tasks to improve/automate the 	API's functionality.)
	
	Middleware sits between the request and the response: user request -> middleware -> response The following request is POST, allowing data to be posted to the server.
To retrieve the data passed in the POST request, we need to add middleware to our NodeJS API so that it can interpret the request body. This middleware will be placed between the arrival of the request and our routes and execute its code, making it possible to access the body.

	>> To post and put, on postman, choose post request >> body >> raw json>> put the value.

REST API IS:
	Routes
	HTTP methods
	JSON responses

Your REST API is the collection of Express routes that return JSON and respond to HTTP requests.

Postman / Browser(Client)
        |
        |  GET /equipes  (Rest API Endpoints)
        |  POST /equipes
        |  PUT /equipes/2
        |  DELETE /equipes/3
        v
----------------------
 Express Server
 (index.js)
----------------------
        |
        v
     equipes.js
  (Resources/data in memory)

# REST API manipulating a MongoDBdatabase
=> MongoDB is a document-oriented NoSQL database.
=> No and columns. Data is stored in the form of collections and documents.
=> Documents are pairs of values/keys that serve as basic data units.

=> Install MongoDB Community Server and MongoDB Compass (GUI)
	On compass, add conncection >> connect (confirms mongodb is running)

=> In project folder, install node.js mongodb library
	npm install mongoose
âœ“ Create a database and a Collection
âœ“ Database name: bdmonapi
âœ“ Collection name (equivalent to table): equipe (import the data file) into the collection created. Ensure formatting is correct - pure JSON.

=> Using MongoDB database â†’ stores data, we need:
Model file      â†’ defines structure (models/Equipe.js)
index.js        â†’ queries database


# Authenticating a REST API with JWT
=> JSON Web Tokens (JWTs) are tokens generated by a server when a user authenticates on a web application, which are then transmitted to the client.
=> They will be sent back with each HTTP request to the server, so server can identify the user
Info in token is signed with private key held by the server, the server checks the signature when it confirm validity.

=> jwt = header > payload > signature
header = algorithm for sign and token type
payload = token info (username, rights
sign = head+payload encrypted with private key

=> Creating an authentication API
Installation of the bcrypt and jsonwebtoken modules

email and password authentication for our API. This involves storing user passwords in our database hashed/encrypted.

=> Use,bcrypt (uses a one way algorithm to encrypt and hash user passwords, which we will then store in the database document for each user. The bcrypt package allows us to indicate whether the two hashes were generated using the same initial password.

=> To create and verify authentication tokens, we will need a new package: npm install jsonwebtoken

=> And to import it, we will use the syntax:
const jwt = require('jsonwebtoken');
Finally, we will use it in our login function, for example: